# 🛒 منصة تجارة إلكترونية باستخدام Laravel متعددة المستخدمين (Multi-Auth)

هذا المشروع عبارة عن منصة تجارة إلكترونية تم تطويرها باستخدام Laravel، وتدعم نظام تسجيل دخول متعدد للمستخدمين (admin و user). يشمل المشروع إدارة المنتجات، وسلة المشتريات، واستعادة كلمة المرور عبر البريد الإلكتروني، بالإضافة إلى واجهات API متكاملة.

---

## 🔐 نظام المصادقة

- تسجيل دخول وتسجيل منفصل للمدير والمستخدم باستخدام **guards**.
- حماية المسارات حسب نوع المستخدم.
- إدارة كاملة للجلسة وتسجيل الخروج.

---

## 🛍️ ميزات التجارة الإلكترونية

- عرض المنتجات والتصنيفات وتفاصيل المنتجات.
- سلة مشتريات تدعم:
  - الإضافة والحذف وتحديث الكمية.
  - حفظ السلة للمستخدمين المسجلين.

---

## 🔁 إعادة تعيين كلمة المرور

- استعادة كلمة المرور عبر البريد الإلكتروني.
- لكل نوع مستخدم (admin/user) تدفق خاص لإعادة التعيين.
- استخدام Laravel Password Broker.
- قوالب بريد إلكتروني مخصصة.

---

## 📧 إعداد البريد

- يدعم Mailpit أو أي مزود SMTP آخر.
- إرسال إشعارات عند تغيير أو إعادة تعيين كلمة المرور.

---

## 🔌 دعم API

تم توفير واجهات API REST باستخدام Laravel Sanctum تشمل:

- تسجيل الدخول والتسجيل.
- إدارة المنتجات.
- إدارة السلة.
- إعادة تعيين كلمة المرور.
- إدارة حساب المستخدم.

---

## 📡 مثال على طلب API

```http
POST /api/app/admin/login
Content-Type: application/json

{
  "email": "test@admin.com",
  "password": "100200300"
}
```

## 🧪 التقنيات المستخدمة

- Laravel 10+
- Laravel Sanctum
- Bootstrap
- MySQL
- Axios و Toastr (واجهة المستخدم)
- نظام Multi-auth باستخدام Guards (admin, user)

## ⚙️ متطلبات التشغيل

- PHP 8.1 أو أعلى
- Composer
- MySQL 5.7 أو أعلى

## ✨ مميزات إضافية

- واجهة مستخدم متجاوبة باستخدام Bootstrap.
- تحميل الصور للمنتجات.
- دعم الحذف والاسترجاع (Soft Delete).
- دعم التصفح حسب التصنيف.
- لوحة تحكم مخصصة للمدير.

## 🚀 خطوات تشغيل المشروع


1. 📥 تحميل المشروع من GitHub:
    ```bash
    git clone https://github.com/m-alghazali1/your-project-name.git
    ```
2. 📁 الدخول إلى مجلد المشروع:
    ```bash
    cd your-project-name
    ```

3. 📦 تثبيت جميع مكتبات Laravel:
    ```bash
    composer install
    ```


4. 📝 نسخ ملف البيئة الافتراضي لإنشاء ملف إعدادات .env خاص بك.
    ```bash
    cp .env.example .env
    ```
5. 🔐 توليد مفتاح التشفير الخاص بالتطبيق Laravel، وهو ضروري لتأمين الجلسات والبيانات.
    ``` bash
    php artisan key:generate
    ```

6. تعديل إعدادات الاتصال بقاعدة البيانات والبريد الإلكتروني في ملف .env.

7. 🗄️ تشغيل ترحيلات قاعدة البيانات (Migrations) لإنشاء الجداول، و--seed لتعبئة بيانات تجريبية إن وجدت.
    ``` bash
    php artisan migrate --seed
    ```

8. 🚀 تشغيل السيرفر المحلي لتجربة المشروع على الرابط:
    ``` bash 
    php artisan serve
    ```

## 🌐 روابط الاستخدام

| الدور         | الرابط                                         | الوصف                         |
|---------------|--------------------------------------------------|------------------------------|
| عام           | http://127.0.0.1:8000/products                   | عرض جميع المنتجات            |
| تفاصيل منتج   | http://127.0.0.1:8000/products/{id}              | صفحة تفاصيل المنتج           |
| حسب التصنيف   | http://127.0.0.1:8000/products/category/{id}     | المنتجات حسب التصنيف         |
| دخول المدير   | http://127.0.0.1:8000/app/admin/login            | صفحة تسجيل دخول المدير       |
| دخول المستخدم | http://127.0.0.1:8000/app/user/login             | صفحة تسجيل دخول المستخدم     |
| لوحة المدير   | http://127.0.0.1:8000/admin/data                 | لوحة تحكم المدير             |
| إدارة التصنيفات| http://127.0.0.1:8000/admin/categories          | إدارة التصنيفات              |
| إدارة المنتجات | http://127.0.0.1:8000/admin/products             | إدارة المنتجات               |
| السلة          | http://127.0.0.1:8000/cart                      | صفحة سلة المشتريات            |


## 👤 حسابات تجريبية

### المدير:
- البريد: `test@admin.com`
- كلمة المرور: `100200300`

### المستخدم:
- البريد: `test@user.com`
- كلمة المرور: `100200300`


## 📡 واجهات API المتاحة

| الطريقة | الرابط                        | الوصف                      | يتطلب توثيق |
|---------|-------------------------------|-----------------------------|-------------|
| POST    | /api/app/user/login           | تسجيل دخول المستخدم         | ❌           |
| POST    | /api/app/user/register        | تسجيل مستخدم جديد           | ❌           |
| POST    | /api/app/admin/login          | تسجيل دخول المدير           | ❌           |
| POST    | /api/app/admin/register       | تسجيل مدير جديد             | ❌           |
| POST    | /api/logout                   | تسجيل الخروج                | ✅           |
| GET     | /api/products                 | عرض كل المنتجات             | ❌           |
| GET     | /api/products/{id}            | تفاصيل منتج                 | ❌           |
| GET     | /api/products/category/{id}   | منتجات حسب التصنيف          | ❌           |
| GET     | /api/cart                     | عرض محتويات السلة           | ✅           |
| POST    | /api/cart/add                 | إضافة منتج إلى السلة        | ✅           |
| PUT     | /api/cart/update/{id}         | تحديث كمية منتج في السلة    | ✅           |
| DELETE  | /api/cart/remove/{id}         | إزالة منتج من السلة         | ✅           |

✅ = يتطلب تسجيل دخول بالتوكن  
❌ = لا يتطلب تسجيل دخول

> تم تطوير المشروع بواسطة [محمود الغزالي](https://github.com/m-alghazali1) 💻  
> يمكنك أيضًا قراءة النسخة [بالإنجليزية](./README.md)
